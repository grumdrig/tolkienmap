<!DOCTYPE html>
<html>
<head>
<title>Mountain Map</title>
<style>
</style>
</head>
<body>
<canvas width="800" height="800"></canvas>
<script>
Element.prototype.$ = Element.prototype.querySelector;
Element.prototype.$$ = Element.prototype.querySelectorAll;
var body = document.body;
var canvas = body.$("canvas");
var ctx = canvas.getContext("2d");
var W = canvas.width;
var H = canvas.height;
var DH = 30;
var DW = 30;
var rand = Math.random;
var peaks = [];
for (var j = H; j > 0; j -= DH) {
    for (var i = W; i > 0; i -= DW) {
		var y = j - rand() * DH;
		var x = i - rand() * DW;
		peaks.push([x,y]);
	}
}

peaks = peaks.sort(function (a,b) { return a[1] - b[1] });

ctx.lineWidth = 2;

[].forEach.call(peaks, function (p) {
	var x = p[0];
	var y = p[1];
	ctx.beginPath();
	ctx.moveTo(x - DW, y + DH);
	ctx.lineTo(x, y);
	ctx.lineTo(x + DW, y + DH);
	ctx.stroke();
	ctx.fillStyle = "white";
	ctx.fill();

	ctx.beginPath();
	ctx.moveTo(x - DW, y + DH);
	ctx.lineTo(x, y);
	ctx.lineTo(x - DW * 0.1, y + DH);
	ctx.fillStyle = "black";
	ctx.fill();
});
</script>
</body>
</html>